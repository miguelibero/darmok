syntax = "proto3";

package darmok.protobuf;

import "google/protobuf/any.proto";
import "registry.proto";
import "math.proto";
import "asset.proto";

message Renderable {
    string mesh_path = 1;
    string material_path = 2;
}

message Skinnable {
    string armature_path = 1;
}

message Transform {
    string name = 1;
    Vec3 position = 2;
    Quat rotation = 3;
    Vec3 scale = 4;
    optional uint32 parent = 5;
}

message Camera {
    oneof program {
        float perspective_fovy = 1;
        Vec2 ortho_center = 2;
    }
    float near = 3;
    float far = 4;
    Vec4 viewport = 5;
}

message Scene {
    string name = 1;
    map<uint32, google.protobuf.Any> scene_components = 2;
    Registry registry = 3;
    AssetPack assets = 4;
}